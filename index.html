<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pXRD</title>
    <link rel="stylesheet" href="style.css">    
</head>
<body>
    <header>
        <h1>Upload de arquivo CSV</h1>
    </header>
    <section>
        <form class="form-inline">
            <div class="form-group">
              <label for="files">Upload um arquivo CSV formatado:</label>
              <input type="file" id="files"  class="form-control" accept=".csv" required />
            </div>
            <div class="form-group">
             <button type="submit" id="submit-file" class="btn btn-primary">Upload File</button>             
             </div>
        </form>
    </section>
    <canvas id= "myChart" width="400 height "400></canvas>

    
    <footer>
        <p>&copy; Filomeno</p>
    </footer>

    

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js"></script>

<script>
  const ctx = document.getElementById('myChart');

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
      datasets: [{
        label: '# of Votes',
        data: [12, 19, 3, 5, 2, 3],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
    
        getData();
        
        async function getData() {
            const response = await fetch('test.csv');
            const data = await response.text();
            

            const table = data.split('\n').slice(1);
            table.forEach(row => {
                const columns = row.split(',');
                const year = columns[0]
                const temp = columns[1]
                console.log(year, temp);

            })
            
 }                
    </script>
</body>
</html>
